---
import { Badge } from '@astrojs/starlight/components'

import { deserializeBadges } from '../libs/badge'

interface Props {
  text: string
}

const { text } = Astro.props

const badges = deserializeBadges(text)
---

{
  badges.length > 0 ? (
    <span class="shb-heading">
      {badges[0]?.heading.trim()}&nbsp;
      {badges.map((badge) => (
        <Badge size="small" text={badge.text} variant={badge.variant} />
      ))}
    </span>
  ) : (
    <span>{text}</span>
  )
}

<style>
  .shb-heading .sl-badge {
    font-size: 0.75rem;
    padding: 0.0625rem 0.25rem;
  }
</style>
